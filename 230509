● NON-EQUI JOIN(비동등 조인)

: 조인 조건이 특정 범위 내에 있는지를 조사하기 위해서 WHERE 절에 조인 조건을 = 연산자 이외의 비교 연산자를 사용한다.

예1) 급여 등급을 5개로 나누어 놓은 salgrade에서 정보를 얻어와서 각 사원의 급여 등급을 조회하기

SQL>select * from salgrade;

GRADE           LOSAL                 HISAL

- -------- ---------- -----------

1                      700                    1200

2                      1201                   1400

3                      1401                   2000

4                      2001                   3000

5                      3001                   9999

SQL>select e.ename, e.sal, s.grade from emp e, salgrade s where e.sal >= s.losal and e.sal <= s.hisal;

- -> emp 테이블의 sal이 salgrade테이블의 losal과 hisal 조건에 맞아떨어지는 grade를 조회할 수 있도록 해준다.

SQL>select e.ename, e.sal, s.grade from emp e, salgrade s where e.sal between s.losal and s.hisal;

- -> 위와 같은 방법으로 between ~ and를 이용해서 조회할 수 있다.
## CASE WHEN END

---

오라클에서 if 문과 비슷한 기능을 하는 DECODE 함수가 있다. 그러나 DECODE 함수는 조건이 많아지면 가독성이 떨어지고 복잡해지며, 가장 큰 문제는 오라클 SQL에서만 사용할 수 있는 비표준 함수이다.

오라클에서 DECODE 함수를 대체할 수 있는 기능이 CASE 표현식이며 가독성이 좋고 더 많은 기능을 제공한다. 조건이 복잡한 경우 DECODE 함수 보다 CASE 표현식을 사용할 것을 권장한다.

![https://blog.kakaocdn.net/dn/03vYC/btqE5fwA1US/Uf4jRvoPOFKFeEYGBcuZ0k/img.png](https://blog.kakaocdn.net/dn/03vYC/btqE5fwA1US/Uf4jRvoPOFKFeEYGBcuZ0k/img.png)

오라클 CASE 표현식

### **If 문 방식**

```sql
SELECT ename
     , deptno
     , CASE WHEN deptno = '10' THEN 'New York'
            WHEN deptno = '20' THEN 'Dallas'
            ELSE 'Unknown'
       END AS loc_name
  FROM emp
 WHERE job = 'MANAGER'
```

CASE 표현식에서 **ELSE 부분은 생략**이 가능하며, 만족하는 조건이 없으면 **NULL**을 리턴한다. CASE 표현식은 SELECT 절, WHERE 절, PL/SQL 등 많은 부분에서 사용이 가능하다.

### **Switch 문 방식**

```sql
SELECT ename
     , deptno
     , CASE deptno
            WHEN 10 THEN 'New York'
            WHEN 20 THEN 'Dallas'
            ELSE 'Unknown'
       END AS loc_name
  FROM scott.emp
 WHERE job = 'MANAGER'
```

CASE 표현식은 C, JAVA의 Swith문과 비슷한 방식으로 사용이 가능하다. CASE 뒤에 비교할 컬럼을 입력하고 WHEN 뒤에 값을 입력해 놓으면 된다. 단순 값만 비교할 때는 조금 더 쿼리문을 단순하게 표현할 수 있다.

## DECODE

---

예) **DECODE(컬럼, 조건1, 결과1, 조건2, 결과2, 조건3, 결과3..........)**

[https://t1.daumcdn.net/cfile/tistory/99D8F6415CFFC30731](https://t1.daumcdn.net/cfile/tistory/99D8F6415CFFC30731)

```sql
WITH temp AS (
    SELECT 'M' gender FROM dual UNION ALL
    SELECT 'F' gender FROM dual UNION ALL
    SELECT 'X' gender FROM dual
)

SELECT gender
     , DECODE(gender, 'M', '남자', 'F', '여자', '기타') gender2
  FROM temp
```

if (gender == "M") {    return "남자";} else if (gender == "F") {    return "여자";} else {    return "기타";}
